--- ../snort3.orig/Makefile	2023-07-19 12:03:36.000000000 +0000
+++ ./Makefile	2023-07-30 19:00:00.000000000 +0000
@@ -20,6 +20,7 @@ LIB_DEPENDS=	libdaq.so:net/libdaq \
 
 USES=		cmake compiler:c++14-lang cpe iconv localbase luajit pathfix pkgconfig \
 		shebangfix ssl
+DOCS_USES=	ruby:build
 USE_GITHUB=	yes
 
 GH_ACCOUNT=	snort3
@@ -66,4 +67,7 @@ post-patch:
 	${REINPLACE_CMD} -e 's|_LIBDIR}/pkgconfig|_PREFIX}/libdata/pkgconfig|g' \
 		${WRKSRC}/cmake/create_pkg_config.cmake
 
+post-stage-DOCS-on:
+	${RUBY} ${WRKSRC}/doc/upgrade/get_differences.rb ${WRKSRC}/tools/snort2lua > ${STAGEDIR}${PREFIX}/share/doc/snort/config_changes.txt
+
 .include <bsd.port.mk>
